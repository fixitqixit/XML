<map proto="1.3.6">
<name>Zap: Cubist Remix</name>
<version>0.12.5</version>
<objective>Be the first team to score 750 points or have the highest score after 35 minutes. Kills are 3 points, the scorebox is 10 but deaths are negative 2.
</objective>
    <authors>
        <author uuid="1987fc00-a5b2-43b5-b94b-e3c0d25776e9"/>
        <!--  BrettOgden  -->
        <author uuid="dad8b95c-cf6a-44df-982e-8c8dd70201e0"/>
        <!--  ElectroidFilms  -->
        <author uuid="ff0b4c92-edc5-4474-a145-04a433c9e485"/>
        <!--  MySquishyTurtle  -->
    </authors>
    <contributors>
        <contributor uuid="3fbec7dd-0a5f-40bf-9d11-885a54507112"/>
        <!--  last_username  -->
        <contributor contribution="Logged onto map dev and did nothing!" uuid="621b2aa8-4e5f-4ed8-bd36-0ae2f8952a06"/>
        <!--  thestrangeboy1  -->
    </contributors>
    <teams>
        <team color="dark red" max="15">Red</team>
        <team color="blue" max="15">Blue</team>
        <team color="yellow" max="15">Yellow</team>
        <team color="green" max="15">Green</team>
    </teams>
    <spawns pitch="0">
        <default kit="all">
            <regions yaw="-90">
                <region name="obs-spawn"/>
            </regions>
        </default>
        <spawn kit="red" yaw="90" region="red-spawn" team="red"/>
        <spawn kit="blue" yaw="180" region="blue-spawn" team="blue"/>
        <spawn kit="yellow" yaw="0" region="yellow-spawn" team="yellow"/>
        <spawn kit="green" yaw="-90" region="green-spawn" team="green"/>
    </spawns>
    <score>
        <limit>750</limit>
        <kills>3</kills>
        <deaths>2</deaths>
        <box points="10" region="scorebox"/>
    </score>
    <time>35m</time>
    <kits>
        <kit name="all">
            <potion duration="oo">night vision</potion>
            <potion duration="oo">saturation</potion>
        </kit>
        <kit force="true" name="elevator">
            <clear-items/>
        </kit>
        <kit force="true" name="elevator-top" parents="elevator">
            <item damage="14" name="`c`lGoing Down `7(Hold and Jump)" slot="0">stained glass pane</item>
            <item damage="14" name="`c`lGoing Down `7(Hold and Jump)" slot="1">stained glass pane</item>
            <item damage="14" name="`c`lGoing Down `7(Hold and Jump)" slot="2">stained glass pane</item>
            <item damage="14" name="`c`lGoing Down `7(Hold and Jump)" slot="3">stained glass pane</item>
            <item damage="14" name="`c`lGoing Down `7(Hold and Jump)" slot="4">stained glass pane</item>
            <item damage="14" name="`c`lGoing Down `7(Hold and Jump)" slot="5">stained glass pane</item>
            <item damage="14" name="`c`lGoing Down `7(Hold and Jump)" slot="6">stained glass pane</item>
            <item damage="14" name="`c`lGoing Down `7(Hold and Jump)" slot="7">stained glass pane</item>
            <item damage="14" name="`c`lGoing Down `7(Hold and Jump)" slot="8">stained glass pane</item>
        </kit>
        <kit force="true" name="elevator-middle" parents="elevator">
            <item damage="5" name="`a`lGoing Up `7(Hold and Jump)" slot="0">stained glass pane</item>
            <item damage="5" name="`a`lGoing Up `7(Hold and Jump)" slot="1">stained glass pane</item>
            <item damage="5" name="`a`lGoing Up `7(Hold and Jump)" slot="2">stained glass pane</item>
            <item damage="5" name="`a`lGoing Up `7(Hold and Jump)" slot="3">stained glass pane</item>
            <item damage="8" name="" slot="4">stained glass pane</item>
            <item damage="14" name="`c`lGoing Down `7(Hold and Jump)" slot="5">stained glass pane</item>
            <item damage="14" name="`c`lGoing Down `7(Hold and Jump)" slot="6">stained glass pane</item>
            <item damage="14" name="`c`lGoing Down `7(Hold and Jump)" slot="7">stained glass pane</item>
            <item damage="14" name="`c`lGoing Down `7(Hold and Jump)" slot="8">stained glass pane</item>
        </kit>
        <kit force="true" name="elevator-bottom" parents="elevator">
            <item damage="5" name="`a`lGoing Up `7(Hold and Jump)" slot="0">stained glass pane</item>
            <item damage="5" name="`a`lGoing Up `7(Hold and Jump)" slot="1">stained glass pane</item>
            <item damage="5" name="`a`lGoing Up `7(Hold and Jump)" slot="2">stained glass pane</item>
            <item damage="5" name="`a`lGoing Up `7(Hold and Jump)" slot="3">stained glass pane</item>
            <item damage="5" name="`a`lGoing Up `7(Hold and Jump)" slot="4">stained glass pane</item>
            <item damage="5" name="`a`lGoing Up `7(Hold and Jump)" slot="5">stained glass pane</item>
            <item damage="5" name="`a`lGoing Up `7(Hold and Jump)" slot="6">stained glass pane</item>
            <item damage="5" name="`a`lGoing Up `7(Hold and Jump)" slot="7">stained glass pane</item>
            <item damage="5" name="`a`lGoing Up `7(Hold and Jump)" slot="8">stained glass pane</item>
        </kit>
        <kit name="bridge">
            <clear-items/>
            <walk-speed>1</walk-speed>
            <item damage="-3000" enchantment="dig speed" slot="0">iron pickaxe</item>
            <item amount="64" slot="2">vine</item>
        </kit>
        <kit name="bridge-red" parents="bridge">
            <item amount="64" damage="14" slot="1">stained clay</item>
            <item amount="64" damage="14" slot="3">stained clay</item>
            <item amount="64" damage="14" slot="4">stained clay</item>
            <item amount="64" damage="14" slot="5">stained clay</item>
            <item amount="64" damage="14" slot="6">stained clay</item>
            <item amount="64" damage="14" slot="7">stained clay</item>
        </kit>
        <kit name="bridge-blue" parents="bridge">
            <item amount="64" damage="11" slot="1">stained clay</item>
            <item amount="64" damage="11" slot="3">stained clay</item>
            <item amount="64" damage="11" slot="4">stained clay</item>
            <item amount="64" damage="11" slot="5">stained clay</item>
            <item amount="64" damage="11" slot="6">stained clay</item>
            <item amount="64" damage="11" slot="7">stained clay</item>
        </kit>
        <kit name="bridge-yellow" parents="bridge">
            <item amount="64" damage="4" slot="1">stained clay</item>
            <item amount="64" damage="4" slot="3">stained clay</item>
            <item amount="64" damage="4" slot="4">stained clay</item>
            <item amount="64" damage="4" slot="5">stained clay</item>
            <item amount="64" damage="4" slot="6">stained clay</item>
            <item amount="64" damage="4" slot="7">stained clay</item>
        </kit>
        <kit name="bridge-green" parents="bridge">
            <item amount="64" damage="5" slot="1">stained clay</item>
            <item amount="64" damage="5" slot="3">stained clay</item>
            <item amount="64" damage="5" slot="4">stained clay</item>
            <item amount="64" damage="5" slot="5">stained clay</item>
            <item amount="64" damage="5" slot="6">stained clay</item>
            <item amount="64" damage="5" slot="7">stained clay</item>
        </kit>
        <kit name="cannon">
            <clear-items/>
            <walk-speed>1.5</walk-speed>
            <item damage="-3000" slot="0">diamond pickaxe</item>
            <item amount="64" damage="6" slot="10">stone</item>
            <item amount="64" damage="6" slot="19">stone</item>
            <item amount="64" damage="6" slot="28">stone</item>
            <item amount="64" damage="6" slot="1">stone</item>
            <item amount="64" damage="6" slot="11">stone</item>
            <item amount="64" damage="6" slot="20">stone</item>
            <item amount="64" damage="6" slot="29">stone</item>
            <item amount="16" slot="7">redstone block</item>
            <item amount="16" slot="30">trap door</item>
            <item amount="32" slot="3">step</item>
            <item amount="32" slot="31">ladder</item>
            <item amount="32" slot="4">nether fence</item>
            <item amount="32" slot="14">redstone torch on</item>
            <item amount="32" slot="23">lever</item>
            <item amount="32" slot="32">stone plate</item>
            <item amount="32" slot="5">stone button</item>
            <item slot="15">water bucket</item>
            <item slot="24">water bucket</item>
            <item slot="33">water bucket</item>
            <item slot="6">water bucket</item>
            <item amount="64" slot="16">tnt</item>
            <item amount="64" slot="25">tnt</item>
            <item amount="64" slot="34">tnt</item>
            <item amount="64" slot="2">redstone</item>
            <item amount="64" slot="17">tnt</item>
            <item amount="64" slot="26">tnt</item>
            <item amount="64" slot="35">tnt</item>
            <item amount="64" slot="8">tnt</item>
        </kit>
        <kit name="red" parents="all,cannon">
            <helmet color="dd5566" damage="-3000" locked="true">leather helmet</helmet>
            <chestplate color="dd5566" damage="-3000" locked="true">leather chestplate</chestplate>
            <leggings color="dd5566" damage="-3000" locked="true">leather leggings</leggings>
            <boots color="dd5566" damage="-3000" enchantment="protection fall:3" locked="true">leather boots</boots>
        </kit>
        <kit name="blue" parents="all,cannon">
            <helmet color="5e55dd" damage="-3000" locked="true">leather helmet</helmet>
            <chestplate color="5e55dd" damage="-3000" locked="true">leather chestplate</chestplate>
            <leggings color="5e55dd" damage="-3000" locked="true">leather leggings</leggings>
            <boots color="5e55dd" damage="-3000" enchantment="protection fall:3" locked="true">leather boots</boots>
        </kit>
        <kit name="yellow" parents="all,cannon">
            <helmet color="E5E533" damage="-3000" locked="true">leather helmet</helmet>
            <chestplate color="E5E533" damage="-3000" locked="true">leather chestplate</chestplate>
            <leggings color="E5E533" damage="-3000" locked="true">leather leggings</leggings>
            <boots color="E5E533" damage="-3000" enchantment="protection fall:3" locked="true">leather boots</boots>
        </kit>
        <kit name="green" parents="all,cannon">
            <helmet color="7FCC19" damage="-3000" locked="true">leather helmet</helmet>
            <chestplate color="7FCC19" damage="-3000" locked="true">leather chestplate</chestplate>
            <leggings color="7FCC19" damage="-3000" locked="true">leather leggings</leggings>
            <boots color="7FCC19" damage="-3000" enchantment="protection fall:3" locked="true">leather boots</boots>
        </kit>
    </kits>
    <filters>
        <filter name="red-only">
            <team>red</team>
        </filter>
        <filter name="blue-only">
            <team>blue</team>
        </filter>
        <filter name="yellow-only">
            <team>yellow</team>
        </filter>
        <filter name="green-only">
            <team>green</team>
        </filter>
        <filter name="going-up">
            <holding>
                <item damage="5" name="`a`lGoing Up `7(Hold and Jump)">stained glass pane</item>
            </holding>
        </filter>
        <filter name="going-down">
            <holding>
                <item damage="14" name="`c`lGoing Down `7(Hold and Jump)">stained glass pane</item>
            </holding>
        </filter>
        <filter name="protect-permanent-blocks">
            <deny>
                <any>
                    <block>quartz block</block>
                    <block>quartz stairs</block>
                    <block>stained clay:9</block>
                    <block>stained glass:7</block>
                    <block>stained glass:15</block>
                    <block>stained glass:8</block>
                    <block>stained glass:4</block>
                    <block>stained glass:5</block>
                    <block>stained glass:11</block>
                    <block>stained glass:14</block>
                    <block>clay</block>
                    <block>portal</block>
                </any>
            </deny>
        </filter>
        <filter name="red-blocks">
            <block>stained clay:14</block>
        </filter>
        <filter name="blue-blocks">
            <block>stained clay:11</block>
        </filter>
        <filter name="yellow-blocks">
            <block>stained clay:4</block>
        </filter>
        <filter name="green-blocks">
            <block>stained clay:5</block>
        </filter>
        <filter name="team-blocks">
            <any>
                <filter name="red-blocks"/>
                <filter name="blue-blocks"/>
                <filter name="yellow-blocks"/>
                <filter name="green-blocks"/>
            </any>
        </filter>
        <filter name="bridge-blocks">
            <any>
                <block>vine</block>
                <block>tnt:1</block>
                <filter name="team-blocks"/>
            </any>
        </filter>
        <filter name="friendly-blocks">
            <any>
                <all>
                    <team>red</team>
                    <filter name="red-blocks"/>
                    <filter name="deny-world"/>
                </all>
                <all>
                    <team>blue</team>
                    <filter name="blue-blocks"/>
                    <filter name="deny-world"/>
                </all>
                <all>
                    <team>yellow</team>
                    <filter name="yellow-blocks"/>
                    <filter name="deny-world"/>
                </all>
                <all>
                    <team>green</team>
                    <filter name="green-blocks"/>
                    <filter name="deny-world"/>
                </all>
            </any>
        </filter>
        <filter name="deny-team-blocks">
            <not>
                <any>
                    <!--  deny blowing up of friendly blocks  -->
                    <all>
                        <cause>explosion</cause>
                        <any>
                            <block>vine</block>
                            <filter name="friendly-blocks"/>
                        </any>
                    </all>
                    <!--  deny breaking team bridges longer than 3m  -->
                    <all>
                        <cause>player</cause>
                        <filter name="friendly-blocks"/>
                        <structural-load>3</structural-load>
                    </all>
                </any>
            </not>
        </filter>
        <filter name="sticky-blocks">
            <block>quartz block</block>
        </filter>
    </filters>
    <falling-blocks>
        <rule>
            <filter>
                <all>
                    <region name="bridge-build"/>
                    <filter name="blue-blocks"/>
                </all>
            </filter>
            <sticky>
                <any>
                    <filter name="blue-blocks"/>
                    <filter name="sticky-blocks"/>
                </any>
            </sticky>
        </rule>
        <rule>
            <filter>
                <all>
                    <region name="bridge-build"/>
                    <filter name="red-blocks"/>
                </all>
            </filter>
            <sticky>
                <any>
                    <filter name="red-blocks"/>
                    <filter name="sticky-blocks"/>
                </any>
            </sticky>
        </rule>
        <rule>
            <filter>
                <all>
                    <region name="bridge-build"/>
                    <filter name="yellow-blocks"/>
                </all>
            </filter>
            <sticky>
                <any>
                    <filter name="yellow-blocks"/>
                    <filter name="sticky-blocks"/>
                </any>
            </sticky>
        </rule>
        <rule>
            <filter>
                <all>
                    <region name="bridge-build"/>
                    <filter name="green-blocks"/>
                </all>
            </filter>
            <sticky>
                <any>
                    <filter name="green-blocks"/>
                    <filter name="sticky-blocks"/>
                </any>
            </sticky>
        </rule>
        <rule>
            <filter>
                <material>vine</material>
            </filter>
            <sticky>
                <any>
                    <material>stained clay</material>
                    <material>stained glass</material>
                    <material>quartz block</material>
                    <material>clay</material>
                </any>
            </sticky>
        </rule>
    </falling-blocks>
    <portals pitch="@0">
        <portal filter="red-only" region="scorebox" x="@166.5" y="@1" yaw="@90" z="@-73.5"/>
        <portal filter="blue-only" region="scorebox" x="@70.5" y="@1" yaw="@180" z="@22.5"/>
        <portal filter="yellow-only" region="scorebox" x="@70.5" y="@1" yaw="@0" z="@-169.5"/>
        <portal filter="green-only" region="scorebox" x="@-25.5" y="@1" yaw="@-90" z="@-73.5"/>
        <!--  Elevators  -->
        <portal filter="going-up" region="bottom-elevators-portal" y="@12"/>
        <portal filter="going-up" region="middle-elevators-portal" y="@23"/>
        <portal filter="going-down" region="middle-elevators-portal" y="@1"/>
        <portal filter="going-down" region="top-elevators-portal" y="@12"/>
    </portals>
    <regions>
        <union name="spawns">
            <cylinder base="69.5,17,-73.5" height="0" name="obs-spawn" radius="1"/>
            <cylinder base="165.5,1,-73.5" height="0" name="red-spawn" radius="2"/>
            <mirror name="blue-spawn" normal="-1,0,1" origin="70.5,0,-73.5" region="red-spawn"/>
            <mirror name="yellow-spawn" normal="-1,0,-1" origin="70.5,0,-73.5" region="red-spawn"/>
            <mirror name="green-spawn" normal="-1,0,0" origin="70.5,0,-73.5" region="red-spawn"/>
        </union>
        <union name="elevators">
            <union name="bottom-elevators">
                <union name="yellow-bottom-elevators">
                    <cuboid max="99,4,-157" min="104,1,-162" name="yellow-bottom-elevator"/>
                    <translate offset="-31,0,0" region="yellow-bottom-elevator"/>
                    <translate offset="-62,0,0" region="yellow-bottom-elevator"/>
                </union>
                <mirror normal="0,0,1" origin="70.5,0,-73.5" region="yellow-bottom-elevators"/>
                <mirror normal="1,0,1" origin="70.5,0,-73.5" region="yellow-bottom-elevators"/>
                <mirror normal="-1,0,1" origin="70.5,0,-73.5" region="yellow-bottom-elevators"/>
            </union>
            <translate name="middle-elevators" offset="0,11,0" region="bottom-elevators"/>
            <translate name="top-elevators" offset="0,22,0" region="bottom-elevators"/>
        </union>
        <union name="elevators-portal">
            <union name="bottom-elevators-portal">
                <union name="yellow-bottom-elevators-portal">
                    <cuboid max="99,4,-157" min="104,2,-162" name="yellow-bottom-elevator-portal"/>
                    <translate offset="-31,0,0" region="yellow-bottom-elevator-portal"/>
                    <translate offset="-62,0,0" region="yellow-bottom-elevator-portal"/>
                </union>
                <mirror normal="0,0,1" origin="70.5,0,-73.5" region="yellow-bottom-elevators-portal"/>
                <mirror normal="1,0,1" origin="70.5,0,-73.5" region="yellow-bottom-elevators-portal"/>
                <mirror normal="-1,0,1" origin="70.5,0,-73.5" region="yellow-bottom-elevators-portal"/>
            </union>
            <translate name="middle-elevators-portal" offset="0,11,0" region="bottom-elevators-portal"/>
            <translate name="top-elevators-portal" offset="0,22,0" region="bottom-elevators-portal"/>
        </union>
        <cuboid max="oo,35,oo" min="-oo,-oo,-oo" name="height-limit"/>
        <!--  global buildable region  -->
        <rectangle max="-14,-158" min="155,11" name="build"/>
        <!--  bridging building region  -->
        <intersect name="bridge-build">
            <region name="build"/>
            <union>
                <rectangle max="116,-7" min="25,-140"/>
                <rectangle max="4,-119" min="137,-28"/>
            </union>
        </intersect>
        <!--  cannoning building region  -->
        <intersect name="cannon-build">
            <region name="build"/>
            <cuboid max="oo,oo,oo" min="-oo,11,-oo"/>
            <complement>
                <rectangle max="-14,-158" min="155,11"/>
                <rectangle max="-4,-148" min="145,1"/>
                <!--  backfire shields -->
                <union name="blue-backfire-shields">
                    <rectangle max="42,15" min="37,0" name="blue-backfire-shield"/>
                    <translate offset="31,0,0" region="blue-backfire-shield"/>
                    <translate offset="62,0,0" region="blue-backfire-shield"/>
                </union>
                <mirror normal="1,0,-1" origin="70.5,0,-73.5" region="blue-backfire-shields"/>
                <mirror normal="0,0,-1" origin="70.5,0,-73.5" region="blue-backfire-shields"/>
                <mirror normal="-1,0,-1" origin="70.5,0,-73.5" region="blue-backfire-shields"/>
            </complement>
        </intersect>
        <!--  kit application regions  -->
        <rectangle max="-3,-147" min="144,0" name="bridge-kit"/>
        <negative name="cannon-kit">
            <rectangle max="-3,-147" min="144,0"/>
        </negative>
        <cuboid max="74,22,-70" min="67,17,-77" name="scorebox"/>
        <!--  protect portal blocks  -->
        <apply block="deny-all" block-physics="deny-all">
            <region name="scorebox"/>
        </apply>
        <!--  Block Rules  -->
        <apply block-place="deny-all" message="You may not place blocks at this height">
            <negative>
                <region name="height-limit"/>
            </negative>
        </apply>
        <!--  deny building outside the playing area  -->
        <apply block="deny-all" message="You may not place or break blocks outside the playing area">
            <negative>
                <union>
                    <region name="bridge-build"/>
                    <region name="cannon-build"/>
                </union>
            </negative>
        </apply>
        <!--  only allow bridging blocks in the inner region  -->
        <apply block-place="bridge-blocks" message="You may not place that material in the central region">
            <complement>
                <region name="bridge-build"/>
                <!--  Patch yellow cannons  -->
                <cuboid max="131,35,-158" min="10,11,-148"/>
            </complement>
        </apply>
        <!--  protect the quartz  -->
        <apply block="protect-permanent-blocks" message="This material is indestructible">
            <negative>
                <empty/>
            </negative>
        </apply>
        <!--  prevent destruction of team structures  -->
        <apply block="deny-team-blocks" message="You may not destroy your own team's bridges">
            <negative>
                <empty/>
            </negative>
        </apply>
        <!--  Regional Kits  -->
        <apply kit="cannon">
            <complement>
                <region name="cannon-kit"/>
                <region name="elevators"/>
            </complement>
        </apply>
        <apply kit="elevator-top" region="top-elevators"/>
        <apply kit="elevator-middle" region="middle-elevators"/>
        <apply kit="elevator-bottom" region="bottom-elevators"/>
        <apply filter="red-only" kit="bridge-red" region="bridge-kit"/>
        <apply filter="blue-only" kit="bridge-blue" region="bridge-kit"/>
        <apply filter="yellow-only" kit="bridge-yellow" region="bridge-kit"/>
        <apply filter="green-only" kit="bridge-green" region="bridge-kit"/>
    </regions>
    <blockdrops>
        <rule>
            <filter>
                <not>
                    <any>
                        <block>tnt</block>
                        <block>dispenser</block>
                    </any>
                </not>
            </filter>
            <fall-chance>0.5</fall-chance>
            <land-chance>0.5</land-chance>
            <drops/>
        </rule>
    </blockdrops>
    <itemremove>
        <item>iron pickaxe</item>
        <item>diamond pickaxe</item>
        <item>vine</item>
        <item>dispenser</item>
        <item>stained clay</item>
        <item>nether fence</item>
        <item>step</item>
        <item>ladder</item>
        <item>trap door</item>
        <item>stone plate</item>
        <item>piston base</item>
        <item>redstone block</item>
        <item>redstone</item>
        <item>stone button</item>
        <item>lever</item>
        <item>redstone torch on</item>
        <item>diode</item>
        <item>water bucket</item>
        <item>bucket</item>
        <item>tnt</item>
        <item>leather helmet</item>
        <item>leather chestplate</item>
        <item>leather leggings</item>
        <item>leather boots</item>
        <item>DIAMOND_BLOCK</item>
        <item>stained glass pane</item>
        <item>item frame</item>
        <item>stone</item>
    </itemremove>
    <kill-reward>
        <filter>
            <all>
                <region name="bridge-build"/>
                <kill-streak count="1" repeat="true"/>
            </all>
        </filter>
        <item amount="1" enchantment="luck:7" grenade="true" grenade-power="1.5" name="`cGrenade">snow ball</item>
    </kill-reward>
    <rules>
        <rule>Spawn camping/killing/cannoning/bombing is ALLOWED</rule>
        <rule>Alliances with other teams are ALLOWED</rule>
    </rules>
    <broadcasts>
        <tip after="10s">Kill an enemy player for 3 points, or enter the scorebox for 10 points</tip>
        <tip after="20s">Bridges will collapse if they are not touching quartz</tip>
        <tip after="40s">Build cannons on the outer platforms</tip>
        <tip after="50s">Your TNT will NOT damage blocks of your own team's color</tip>
        <tip after="190s">Kill an enemy player for 3 points, or enter the scorebox for 10 points</tip>
        <tip after="200s">Bridges will collapse if they are not touching quartz</tip>
        <tip after="210s">Build cannons on the outer platforms</tip>
        <tip after="220s">Your TNT will NOT damage blocks of your own team's color</tip>
    </broadcasts>
    <disabledamage>
        <damage ally="true" enemy="false" other="false" self="false">block explosion</damage>
    </disabledamage>
    <maxbuildheight>33</maxbuildheight>
</map>
